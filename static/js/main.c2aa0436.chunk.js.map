{"version":3,"sources":["D3Chart/Spider.js","Components/Chart.js","Components/Map.js","Components/Modal.js","Components/Legend.js","D3Chart/ColorBar.js","Components/App.js","reportWebVitals.js","index.js"],"names":["Spider","element","score_bus","score_bike","score_subway","margin","width","viewbox","svg","append","attr","newFontSize","parseInt","d3","style","container","rScale","domain","range","score","polygon","selectAll","data","enter","height","d","slice","text","Math","cos","PI","sin","busCoord","subwayCoord","bikeCoord","transition","duration","i","Chart","scores","useState","chart","setChart","useRef","useEffect","current","className","ref","mapboxgl","accessToken","Map","handleModal","mapContainerRef","setMap","colors","map","color","index","flat","center","zoom","attributionControl","antialias","addControl","AttributionControl","compact","on","addSource","type","addLayer","id","source","layout","paint","e","features","properties","x","y","total_score","console","log","description","document","createElement","charts","popup","appendChild","ReactDOM","render","Description","Popup","setLngLat","setDOMContent","addTo","remove","round","onTouchStart","onClick","Modal","Legend","xAxis","xScale","xAxisFunction","ticks","call","select","ColorBar","App","modal","setModal","modalOnOff","useCallback","currentModal","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c2aa0436.chunk.js","sourcesContent":["import * as d3 from 'd3';\r\nexport default function Spider(\r\n  element,\r\n  { score_bus, score_bike, score_subway }\r\n) {\r\n  const margin = {\r\n    top: 25,\r\n    left: 25,\r\n    right: 25,\r\n    bottom: 25,\r\n  };\r\n\r\n  const width = 240;\r\n  const height = 240;\r\n  const viewbox = [\r\n    0,\r\n    0,\r\n    width + margin.left + margin.right,\r\n    height + margin.top + margin.bottom,\r\n  ];\r\n\r\n  const svg = element\r\n    .append('svg')\r\n    .attr('class', 'webChart')\r\n    .attr('viewBox', viewbox)\r\n    .attr('preserveAspectRatio', 'xMinYMid meet');\r\n\r\n  const chartWidth = parseInt(d3.select('.webChart').style('width'));\r\n  const newFontSize = 12 * (290 / chartWidth);\r\n\r\n  const container = svg\r\n    .append('g')\r\n    .attr('transform', `translate(${margin.left},${margin.top})`);\r\n\r\n  const rScale = d3\r\n    .scaleLinear()\r\n    .domain([0, 5])\r\n    .range([0, width / 2]);\r\n\r\n  const score = [0, 1, 2, 3, 4, 5];\r\n\r\n  const axisSub = container\r\n    .selectAll('.axis-sub')\r\n    .data(score)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'axis-sub')\r\n    .attr('cx', width / 2)\r\n    .attr('cy', height / 2)\r\n    .attr('fill', 'none')\r\n    .attr('stroke', '#424242')\r\n    .attr('r', (d) => rScale(d));\r\n\r\n  const label = container\r\n    .selectAll('.label')\r\n    .data(score.slice(1))\r\n    .enter()\r\n    .append('text')\r\n    .text((d) => d)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('y', (d) => rScale(d) + rScale(5) + 15)\r\n    .attr('x', width / 2)\r\n    .style('font-size', '10px')\r\n    .attr('fill', (d) => '#636363');\r\n\r\n  const polygon = container\r\n    .append('g')\r\n    .attr('transform', `translate(${width / 2},${height / 2})`);\r\n\r\n  polygon\r\n    .append('circle')\r\n    .attr('cx', 0)\r\n    .attr('cy', 0)\r\n    .attr('fill', '#636363')\r\n    .attr('r', 1);\r\n\r\n  const axisMain = polygon\r\n    .selectAll('.axis-main')\r\n    .data([1, 5, 9])\r\n    .enter()\r\n    .append('line')\r\n    .attr('class', 'axis-main')\r\n    .attr('x1', 0)\r\n    .attr('y1', 0)\r\n    .attr('x2', (d) => Math.cos((Math.PI * d) / 6) * rScale(5))\r\n    .attr('y2', (d) => Math.sin((Math.PI * d) / 6) * rScale(5))\r\n    .attr('stroke', '#636363');\r\n\r\n  const busCoord = `${Math.cos(Math.PI / 6) * rScale(+score_bus)}, ${\r\n    Math.sin(Math.PI / 6) * rScale(+score_bus)\r\n  }`;\r\n  const subwayCoord = `0,${-rScale(+score_subway)}`;\r\n  const bikeCoord = `${Math.cos((5 * Math.PI) / 6) * rScale(+score_bike)}, ${\r\n    Math.sin((5 * Math.PI) / 6) * rScale(+score_bike)\r\n  }`;\r\n\r\n  polygon\r\n    .append('polygon')\r\n    .attr('fill', '#2196F3')\r\n    .attr('fill-opacity', 0.3)\r\n    .attr('stroke', '#2963FF')\r\n    .attr('stroke-width', 2)\r\n    .attr('points', '0,0 0,0 0,0')\r\n    .transition()\r\n    .duration(300)\r\n    .attr('points', `${busCoord} ${subwayCoord} ${bikeCoord}`);\r\n\r\n  polygon\r\n    .selectAll('.point')\r\n    .data([score_bus, score_bike, score_subway])\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'point')\r\n    .attr('cx', (d, i) => Math.cos((Math.PI * (i * 4 + 1)) / 6) * rScale(d))\r\n    .attr('cy', (d, i) => Math.sin((Math.PI * (i * 4 + 1)) / 6) * rScale(d))\r\n    .attr('r', '3')\r\n    .attr('fill', '#2196F3');\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('bus')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos(Math.PI / 6) * rScale(6))\r\n    .attr('y', Math.sin(Math.PI / 6) * rScale(6))\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('bike')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos((Math.PI * 5) / 6) * rScale(6))\r\n    .attr('y', Math.sin((Math.PI * 5) / 6) * rScale(6))\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('subway')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos((Math.PI * 9) / 6) * rScale(6))\r\n    .attr('y', Math.sin((Math.PI * 9) / 6) * rScale(6) + 12)\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nimport Spider from '../D3Chart/Spider';\r\nimport '../css/chart.css';\r\n\r\nexport default function Chart({ scores }) {\r\n  const { score_bus, score_bike, score_subway } = scores;\r\n  const [chart, setChart] = useState(null);\r\n  const container = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!chart) {\r\n      setChart(\r\n        new Spider(d3.select(container.current), {\r\n          score_bus,\r\n          score_bike,\r\n          score_subway,\r\n        })\r\n      );\r\n    }\r\n    return setChart(null);\r\n  }, [chart, score_bus, score_bike, score_subway]);\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <div ref={container}></div>\r\n    </div>\r\n  );\r\n}\r\n","import mapboxgl from 'mapbox-gl';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as d3 from 'd3';\r\n\r\nimport '../css/Map.css';\r\n\r\nimport Chart from './Chart';\r\n\r\nmapboxgl.accessToken =\r\n  'pk.eyJ1Ijoic2doYW4iLCJhIjoiY2szamxqbjZnMGtmbTNjbXZzamh4cng3dSJ9.GGv4GVVoZ811d6PKi54PrA';\r\n\r\nfunction Map({ handleModal }) {\r\n  const mapContainerRef = useRef(null);\r\n  const [, setMap] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const colorScale = d3.schemeRdYlGn[11];\r\n    const colors = colorScale\r\n      .map((color, index) => {\r\n        return [index, color];\r\n      })\r\n      .flat(1);\r\n\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainerRef.current,\r\n      style: 'mapbox://styles/sghan/ck1ljdcmy16fc1cpg0f4qh3wu',\r\n      center: [127.06243582034075, 37.49804469532547],\r\n      zoom: 12.7,\r\n      attributionControl: false,\r\n      antialias: true,\r\n    });\r\n\r\n    map.addControl(\r\n      new mapboxgl.AttributionControl({\r\n        compact: true,\r\n      })\r\n    );\r\n\r\n    map.on('load', () => {\r\n      map.addSource('hexagons', {\r\n        type: 'geojson',\r\n        data:\r\n          'https://raw.githubusercontent.com/Aete/transport-accessibility/master/src/data/hexagon_res_10_400m_count/hexagon_with_data.geojson',\r\n      });\r\n\r\n      map.addLayer({\r\n        id: 'hexagons',\r\n        type: 'fill',\r\n        source: 'hexagons',\r\n        layout: {},\r\n        paint: {\r\n          'fill-color': [\r\n            'interpolate',\r\n            ['linear'],\r\n            ['get', 'total_score'],\r\n            ...colors,\r\n          ],\r\n          'fill-opacity': 0.7,\r\n        },\r\n      });\r\n      setMap(map);\r\n    });\r\n\r\n    map.on('click', 'hexagons', function (e) {\r\n      const {\r\n        x,\r\n        y,\r\n        score_bus,\r\n        score_subway,\r\n        score_bike,\r\n        total_score,\r\n      } = e.features[0].properties;\r\n      console.log(e.features[0].properties);\r\n\r\n      const description = document.createElement('div');\r\n      description.className = 'description';\r\n\r\n      const charts = document.createElement('div');\r\n      charts.className = 'charts';\r\n\r\n      const popup = document.createElement('div');\r\n      popup.appendChild(description);\r\n      popup.appendChild(charts);\r\n\r\n      ReactDOM.render(\r\n        <Description\r\n          total_score={total_score}\r\n          score_bus={score_bus}\r\n          score_subway={score_subway}\r\n          score_bike={score_bike}\r\n          handleModal={handleModal}\r\n        />,\r\n        description\r\n      );\r\n\r\n      ReactDOM.render(\r\n        <Chart scores={{ score_bus, score_subway, score_bike }} />,\r\n        charts\r\n      );\r\n\r\n      const marker = new mapboxgl.Popup()\r\n        .setLngLat([x, y])\r\n        .setDOMContent(popup)\r\n        .addTo(map);\r\n    });\r\n    return () => map.remove();\r\n  }, [handleModal]);\r\n\r\n  return (\r\n    <div className=\"map\">\r\n      <div className=\"map-container\" ref={mapContainerRef} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n\r\nfunction Description({\r\n  total_score,\r\n  score_bus,\r\n  score_subway,\r\n  score_bike,\r\n  handleModal,\r\n}) {\r\n  return (\r\n    <section className=\"textInfo\">\r\n      <h1>Accessibility score</h1>\r\n      <ul>\r\n        <li>total score: {Math.round(total_score * 100) / 100} / 15</li>\r\n        <li>subway: {Math.round(score_subway * 100) / 100} / 5</li>\r\n        <li>bus: {Math.round(score_bus * 100) / 100} / 5</li>\r\n        <li>bike: {Math.round(score_bike * 100) / 100} / 5</li>\r\n        <li>\r\n          <span\r\n            className=\"aboutBtn\"\r\n            onTouchStart={handleModal}\r\n            onClick={handleModal}\r\n          >\r\n            About the project (click)\r\n          </span>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n","import '../css/Modal.css';\r\n\r\nexport default function Modal({ handleModal }) {\r\n  return (\r\n    <article className=\"Modal\">\r\n      <header className=\"Modal__header\">\r\n        <h1>Transportation Accessibility Dashboard</h1>\r\n        <button onTouchStart={handleModal} onClick={handleModal}>\r\n          close\r\n        </button>\r\n      </header>\r\n      <main>\r\n        <p className=\"author\">\r\n          2020. 12 ~ present, Seunggyun Han & Woowon Chung\r\n        </p>\r\n        <p>\r\n          <strong>In Seoul</strong>, where personal car ownership is low and\r\n          dependence on public transportation is very high, accessibility to\r\n          public transportation is a very important factor when choosing a place\r\n          to work or live. Therefore, in the places with good access to public\r\n          transport, the most expensive and large-scale apartment complexes have\r\n          been built, and in places with relatively poor accessibility, small\r\n          and inexpensive multi-family houses are located.\r\n        </p>\r\n        <p>\r\n          In this study, targeting the Gangnam district, we investigated the\r\n          areas where actual public transportation (bicycle, subway, bus)\r\n          accessibility is weak and where it is good. In addition, by analyzing\r\n          the types of housing in each surveyed region, we tried to find a\r\n          district where redevelopment would be possible and a place where a new\r\n          public transport plan is needed.\r\n        </p>\r\n      </main>\r\n    </article>\r\n  );\r\n}\r\n","import * as d3 from 'd3';\r\nimport { useState, useEffect, useMemo, useRef } from 'react';\r\nimport ColorBar from '../D3Chart/ColorBar';\r\n\r\nimport '../css/legend.css';\r\n\r\nexport default function Legend() {\r\n  const [legend, setLegend] = useState(null);\r\n  const container = useRef();\r\n\r\n  useEffect(() => {\r\n    ColorBar(container.current);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Legend\">\r\n      <div className=\"Legend__bar\" ref={container}></div>\r\n    </div>\r\n  );\r\n}\r\n","import * as d3 from 'd3';\r\n\r\nexport default function ColorBar(element) {\r\n  const margin = {\r\n    top: 15,\r\n    left: 10,\r\n    right: 20,\r\n    bottom: 10,\r\n  };\r\n\r\n  const colorScale = d3.schemeRdYlGn[11];\r\n  const colors = colorScale.map((color, index) => {\r\n    return [index, color];\r\n  });\r\n\r\n  const width = 200 - margin.left - margin.right;\r\n  const height = 50 - margin.top - margin.bottom;\r\n  const svg = d3\r\n    .select(element)\r\n    .append('svg')\r\n    .attr('class', 'SVG_legend')\r\n    .attr('width', width + margin.right + margin.left)\r\n    .attr('height', height + margin.top + margin.bottom);\r\n\r\n  const defs = svg.append('defs');\r\n  const linearGradient = defs.append('linearGradient').attr('id', 'myGradient');\r\n  linearGradient\r\n    .selectAll('stop')\r\n    .data(colors)\r\n    .enter()\r\n    .append('stop')\r\n    .attr('offset', (d) => ((d[0] - 0) / 10) * 100 + '%')\r\n    .attr('stop-color', (d) => d[1]);\r\n\r\n  const container = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n  container.append('rect').attr('width', width).attr('height', 10).attr('fill', 'url(#myGradient)').style('opacity', 0.7);\r\n\r\n  const xAxis = container.append('g').attr('transform', `translate(0,${13})`);\r\n\r\n  const xScale = d3.scaleLinear().domain([0, 10]).range([0, width]);\r\n\r\n  const xAxisFunction = d3.axisBottom(xScale).ticks(10);\r\n\r\n  xAxis.call(xAxisFunction);\r\n\r\n  xAxis.selectAll('.tick>line').attr('stroke', '#ccc');\r\n  xAxis.selectAll('.tick>text').attr('fill', '#ccc');\r\n  xAxis.select('.tick:last-child>text').text('10 ≤');\r\n  container.select('.domain').remove();\r\n}\r\n","import Map from './Map';\nimport Modal from './Modal';\nimport Legend from './Legend';\nimport { useState, useCallback } from 'react';\n\nimport '../css/App.css';\n\nfunction App() {\n  const [modal, setModal] = useState(true);\n\n  const modalOnOff = useCallback(() => {\n    setModal((currentModal) => !currentModal);\n  }, []);\n\n  return (\n    <main className=\"dashboard\">\n      {modal && <Modal handleModal={modalOnOff} />}\n      <Map handleModal={modalOnOff} />\n      <Legend />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}