(this["webpackJsonptransport-accessibility"]=this["webpackJsonptransport-accessibility"]||[]).push([[0],{100:function(t,e,a){},102:function(t,e,a){},103:function(t,e,a){},104:function(t,e,a){},105:function(t,e,a){},106:function(t,e,a){},107:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a(1),r=a.n(c),s=a(9),o=a.n(s),i=(a(100),a(4)),l=a(51),d=a(11),u=a.n(d),h=a(2);a(102);function p(t,e){var a=e.score_bus,n=e.score_bike,c=e.score_subway,r=25,s=25,o=240,i=[0,0,o+s+25,240+r+25],l=t.append("svg").attr("class","webChart").attr("viewBox",i).attr("preserveAspectRatio","xMinYMid meet"),d=290/parseInt(h.d(".webChart").style("width"))*12,u=l.append("g").attr("transform","translate(".concat(s,",").concat(r,")")),p=h.b().domain([0,5]).range([0,120]),b=[0,1,2,3,4,5],j=(u.selectAll(".axis-sub").data(b).enter().append("circle").attr("class","axis-sub").attr("cx",120).attr("cy",120).attr("fill","none").attr("stroke","#424242").attr("r",(function(t){return p(t)})),u.selectAll(".label").data(b.slice(1)).enter().append("text").text((function(t){return t})).attr("text-anchor","middle").attr("y",(function(t){return p(t)+p(5)+15})).attr("x",120).style("font-size","10px").attr("fill",(function(t){return"#636363"})),u.append("g").attr("transform","translate(".concat(120,",").concat(120,")")));j.append("circle").attr("cx",0).attr("cy",0).attr("fill","#636363").attr("r",1);j.selectAll(".axis-main").data([1,5,9]).enter().append("line").attr("class","axis-main").attr("x1",0).attr("y1",0).attr("x2",(function(t){return Math.cos(Math.PI*t/6)*p(5)})).attr("y2",(function(t){return Math.sin(Math.PI*t/6)*p(5)})).attr("stroke","#636363");var f="".concat(Math.cos(Math.PI/6)*p(+a),", ").concat(Math.sin(Math.PI/6)*p(+a)),x="0,".concat(-p(+c)),m="".concat(Math.cos(5*Math.PI/6)*p(+n),", ").concat(Math.sin(5*Math.PI/6)*p(+n));j.append("polygon").attr("fill","#2196F3").attr("fill-opacity",.3).attr("stroke","#2963FF").attr("stroke-width",2).attr("points","0,0 0,0 0,0").transition().duration(300).attr("points","".concat(f," ").concat(x," ").concat(m)),j.selectAll(".point").data([a,n,c]).enter().append("circle").attr("class","point").attr("cx",(function(t,e){return Math.cos(Math.PI*(4*e+1)/6)*p(t)})).attr("cy",(function(t,e){return Math.sin(Math.PI*(4*e+1)/6)*p(t)})).attr("r","3").attr("fill","#2196F3"),j.append("text").text("bus").attr("text-anchor","middle").attr("x",Math.cos(Math.PI/6)*p(6)).attr("y",Math.sin(Math.PI/6)*p(6)).attr("fill","#FFFFFF").style("font-size","".concat(d,"px")),j.append("text").text("bike").attr("text-anchor","middle").attr("x",Math.cos(5*Math.PI/6)*p(6)).attr("y",Math.sin(5*Math.PI/6)*p(6)).attr("fill","#FFFFFF").style("font-size","".concat(d,"px")),j.append("text").text("subway").attr("text-anchor","middle").attr("x",Math.cos(9*Math.PI/6)*p(6)).attr("y",Math.sin(9*Math.PI/6)*p(6)+12).attr("fill","#FFFFFF").style("font-size","".concat(d,"px"))}a(103);function b(t){var e=t.scores,a=e.score_bus,r=e.score_bike,s=e.score_subway,o=Object(c.useState)(null),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(c.useRef)();return Object(c.useEffect)((function(){return d||u(new p(h.d(b.current),{score_bus:a,score_bike:r,score_subway:s})),u(null)}),[d,a,r,s]),Object(n.jsx)("div",{className:"chart",children:Object(n.jsx)("div",{ref:b})})}u.a.accessToken="pk.eyJ1Ijoic2doYW4iLCJhIjoiY2szamxqbjZnMGtmbTNjbXZzamh4cng3dSJ9.GGv4GVVoZ811d6PKi54PrA";var j=function(t){var e=t.handleModal,a=Object(c.useRef)(null),r=Object(c.useState)(null),s=Object(i.a)(r,2)[1];return Object(c.useEffect)((function(){var t=h.c[11].map((function(t,e){return[e,t]})).flat(1),c=new u.a.Map({container:a.current,style:"mapbox://styles/sghan/ck1ljdcmy16fc1cpg0f4qh3wu",center:[127.06243582034075,37.49804469532547],zoom:12.7,attributionControl:!1,antialias:!0});return c.addControl(new u.a.AttributionControl({compact:!0})),c.on("load",(function(){c.addSource("hexagons",{type:"geojson",data:"https://raw.githubusercontent.com/Aete/transport-accessibility/master/src/data/hexagon_res_10_400m_count/hexagon_with_data.geojson"}),c.addLayer({id:"hexagons",type:"fill",source:"hexagons",layout:{},paint:{"fill-color":["interpolate",["linear"],["get","total_score"]].concat(Object(l.a)(t)),"fill-opacity":.7}}),s(c)})),c.on("click","hexagons",(function(t){var a=t.features[0].properties,r=a.x,s=a.y,i=a.score_bus,l=a.score_subway,d=a.score_bike,h=a.total_score;console.log(t.features[0].properties);var p=document.createElement("div");p.className="description";var j=document.createElement("div");j.className="charts";var x=document.createElement("div");x.appendChild(p),x.appendChild(j),o.a.render(Object(n.jsx)(f,{total_score:h,score_bus:i,score_subway:l,score_bike:d,handleModal:e}),p),o.a.render(Object(n.jsx)(b,{scores:{score_bus:i,score_subway:l,score_bike:d}}),j);(new u.a.Popup).setLngLat([r,s]).setDOMContent(x).addTo(c)})),function(){return c.remove()}}),[e]),Object(n.jsx)("div",{className:"map",children:Object(n.jsx)("div",{className:"map-container",ref:a})})};function f(t){var e=t.total_score,a=t.score_bus,c=t.score_subway,r=t.score_bike,s=t.handleModal;return Object(n.jsxs)("section",{className:"textInfo",children:[Object(n.jsx)("h1",{children:"Accessibility score"}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["total score: ",Math.round(100*e)/100," / 15"]}),Object(n.jsxs)("li",{children:["subway: ",Math.round(100*c)/100," / 5"]}),Object(n.jsxs)("li",{children:["bus: ",Math.round(100*a)/100," / 5"]}),Object(n.jsxs)("li",{children:["bike: ",Math.round(100*r)/100," / 5"]}),Object(n.jsx)("li",{children:Object(n.jsx)("span",{className:"aboutBtn",onTouchStart:s,onClick:s,children:"About the project (click)"})})]})]})}a(104);function x(t){var e=t.handleModal;return Object(n.jsxs)("article",{className:"Modal",children:[Object(n.jsxs)("header",{className:"Modal__header",children:[Object(n.jsx)("h1",{children:"Transportation Accessibility Dashboard"}),Object(n.jsx)("button",{onTouchStart:e,onClick:e,children:"close"})]}),Object(n.jsxs)("main",{children:[Object(n.jsx)("p",{className:"author",children:"2020. 12 ~ present, Seunggyun Han & Woowon Chung"}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"In Seoul"}),", where personal car ownership is low and dependence on public transportation is very high, accessibility to public transportation is a very important factor when choosing a place to work or live. Therefore, in the places with good access to public transport, the most expensive and large-scale apartment complexes have been built, and in places with relatively poor accessibility, small and inexpensive multi-family houses are located."]}),Object(n.jsx)("p",{children:"In this study, targeting the Gangnam district, we investigated the areas where actual public transportation (bicycle, subway, bus) accessibility is weak and where it is good. In addition, by analyzing the types of housing in each surveyed region, we tried to find a district where redevelopment would be possible and a place where a new public transport plan is needed."})]})]})}a(105);function m(){var t=Object(c.useState)(null),e=Object(i.a)(t,2),a=(e[0],e[1],Object(c.useRef)());return Object(c.useEffect)((function(){!function(t){var e=15,a=10,n=20,c=10,r=h.c[11].map((function(t,e){return[e,t]})),s=200-a-n,o=50-e-c,i=h.d(t).append("svg").attr("class","SVG_legend").attr("width",s+n+a).attr("height",o+e+c);i.append("defs").append("linearGradient").attr("id","myGradient").selectAll("stop").data(r).enter().append("stop").attr("offset",(function(t){return(t[0]-0)/10*100+"%"})).attr("stop-color",(function(t){return t[1]}));var l=i.append("g").attr("transform","translate(".concat(a,", ").concat(e,")"));l.append("rect").attr("width",s).attr("height",10).attr("fill","url(#myGradient)").style("opacity",.7);var d=l.append("g").attr("transform","translate(0,".concat(13,")")),u=h.b().domain([0,10]).range([0,s]),p=h.a(u).ticks(10);d.call(p),d.selectAll(".tick>line").attr("stroke","#ccc"),d.selectAll(".tick>text").attr("fill","#ccc"),d.select(".tick:last-child>text").text("10 \u2264"),l.select(".domain").remove()}(a.current)}),[]),Object(n.jsx)("div",{className:"Legend",children:Object(n.jsx)("div",{className:"Legend__bar",ref:a})})}a(106);var y=function(){var t=Object(c.useState)(!0),e=Object(i.a)(t,2),a=e[0],r=e[1],s=Object(c.useCallback)((function(){r((function(t){return!t}))}),[]);return Object(n.jsxs)("main",{className:"dashboard",children:[a&&Object(n.jsx)(x,{handleModal:s}),Object(n.jsx)(j,{handleModal:s}),Object(n.jsx)(m,{})]})},g=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,108)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;a(t),n(t),c(t),r(t),s(t)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),g()}},[[107,1,2]]]);
//# sourceMappingURL=main.c2aa0436.chunk.js.map