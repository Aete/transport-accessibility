(this["webpackJsonptransport-accessibility"]=this["webpackJsonptransport-accessibility"]||[]).push([[0],{101:function(t,a,e){},103:function(t,a,e){},104:function(t,a,e){},105:function(t,a,e){},106:function(t,a,e){"use strict";e.r(a);var n=e(0),r=e(1),c=e.n(r),o=e(50),s=e.n(o),i=(e(101),e(51)),l=e(14),u=e(9),d=e.n(u),p=e(5);e(103);d.a.accessToken="pk.eyJ1Ijoic2doYW4iLCJhIjoiY2szamxqbjZnMGtmbTNjbXZzamh4cng3dSJ9.GGv4GVVoZ811d6PKi54PrA";var h=function(){var t=Object(r.useRef)(null),a=Object(r.useState)(null),e=Object(l.a)(a,2)[1];return Object(r.useEffect)((function(){var a=p.b[11].map((function(t,a){return[a,t]})).flat(1),n=new d.a.Map({container:t.current,style:"mapbox://styles/sghan/ck1ljdcmy16fc1cpg0f4qh3wu",center:[127.06243582034075,37.49804469532547],zoom:12.7,attributionControl:!1});return n.addControl(new d.a.AttributionControl({compact:!0})),n.on("load",(function(){n.addSource("hexagons",{type:"geojson",data:"https://raw.githubusercontent.com/Aete/transport-accessibility/master/src/data/hexagon_res_10_400m_count/hexagon_with_data.geojson"}),n.addLayer({id:"hexagons",type:"fill",source:"hexagons",layout:{},paint:{"fill-color":["interpolate",["linear"],["get","total_score"]].concat(Object(i.a)(a)),"fill-opacity":.7}}),e(n)})),n.on("click","hexagons",(function(t){var a=t.features[0].properties,e=a.x,r=a.y,c=a.score_bus,o=a.score_subway,s=a.score_bike;p.c(".spiderChart").remove();(new d.a.Popup).setLngLat([e,r]).setHTML('<div class="spiderChart"></div>').addTo(n);!function(t,a){console.log(a);var e=25,n=25,r=25,c=25,o=240,s=t.append("svg").attr("width",o+n+r).attr("height",240+e+c).append("g").attr("transform","translate(".concat(n,",").concat(e,")")),i=p.a().domain([0,5]).range([0,120]),l=[0,1,2,3,4,5],u=(s.selectAll(".axis-sub").data(l).enter().append("circle").attr("cx",120).attr("cy",120).attr("fill","none").attr("stroke","#424242").attr("r",(function(t){return i(t)})),s.selectAll(".label").data(l.slice(1)).enter().append("text").text((function(t){return t})).attr("text-anchor","middle").attr("y",(function(t){return i(t)+i(5)+15})).attr("x",120).style("font-size","10px").attr("fill",(function(t){return"#636363"})),s.append("g").attr("transform","translate(".concat(120,",").concat(120,")")));u.append("circle").attr("cx",0).attr("cy",0).attr("fill","#636363").attr("r",1),u.selectAll(".axis-main").data([1,5,9]).enter().append("line").attr("x1",0).attr("y1",0).attr("x2",(function(t){return Math.cos(Math.PI*t/6)*i(5)})).attr("y2",(function(t){return Math.sin(Math.PI*t/6)*i(5)})).attr("stroke","#636363");var d="".concat(Math.cos(Math.PI/6)*i(+a.score_bus),", ").concat(Math.sin(Math.PI/6)*i(+a.score_bus)),h="0,".concat(-i(+a.score_subway)),f="".concat(Math.cos(5*Math.PI/6)*i(+a.score_bike),", ").concat(Math.sin(5*Math.PI/6)*i(+a.score_bike));u.append("polygon").attr("points","".concat(d," ").concat(h," ").concat(f)).attr("fill","#2196F3").attr("fill-opacity",.3).attr("stroke","#2963FF").attr("stroke-width",2),u.append("text").text("bus").attr("text-anchor","middle").attr("x",Math.cos(Math.PI/6)*i(6)).attr("y",Math.sin(Math.PI/6)*i(6)).attr("fill","#FFFFFF").style("font-size","12px"),u.append("text").text("bike").attr("text-anchor","middle").attr("x",Math.cos(5*Math.PI/6)*i(6)).attr("y",Math.sin(5*Math.PI/6)*i(6)).attr("fill","#FFFFFF").style("font-size","12px"),u.append("text").text("subway").attr("text-anchor","middle").attr("x",Math.cos(9*Math.PI/6)*i(6)).attr("y",Math.sin(9*Math.PI/6)*i(6)+12).attr("fill","#FFFFFF").style("font-size","12px")}(p.c(".spiderChart"),{score_bus:c,score_subway:o,score_bike:s})})),function(){return n.remove()}}),[]),Object(n.jsx)("div",{className:"map",children:Object(n.jsx)("div",{className:"map-container",ref:t})})};e(104);e(105);var f=function(){return Object(n.jsx)("div",{className:"dashboard",children:Object(n.jsx)(h,{})})},b=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,107)).then((function(a){var e=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,o=a.getTTFB;e(t),n(t),r(t),c(t),o(t)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),b()}},[[106,1,2]]]);
//# sourceMappingURL=main.05ee9538.chunk.js.map