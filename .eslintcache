[{"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\index.js":"1","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\reportWebVitals.js":"2","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\App.js":"3","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Map.js":"4","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\D3Chart\\Spider.js":"5","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Modal.js":"6","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Chart.js":"7","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Legend.js":"8","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\D3Chart\\ColorBar.js":"9"},{"size":511,"mtime":1608776613076,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":512,"mtime":1613472599191,"results":"13","hashOfConfig":"11"},{"size":3704,"mtime":1613438331876,"results":"14","hashOfConfig":"11"},{"size":3943,"mtime":1613471606861,"results":"15","hashOfConfig":"11"},{"size":1533,"mtime":1613472578965,"results":"16","hashOfConfig":"11"},{"size":724,"mtime":1613438196014,"results":"17","hashOfConfig":"11"},{"size":474,"mtime":1613726901292,"results":"18","hashOfConfig":"11"},{"size":1651,"mtime":1613728313132,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1ep1k07",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\index.js",[],["41","42"],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\reportWebVitals.js",[],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\App.js",[],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Map.js",["43"],"import mapboxgl from 'mapbox-gl';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as d3 from 'd3';\r\n\r\nimport '../css/Map.css';\r\n\r\nimport Chart from './Chart';\r\n\r\nmapboxgl.accessToken =\r\n  'pk.eyJ1Ijoic2doYW4iLCJhIjoiY2szamxqbjZnMGtmbTNjbXZzamh4cng3dSJ9.GGv4GVVoZ811d6PKi54PrA';\r\n\r\nfunction Map({ handleModal }) {\r\n  const mapContainerRef = useRef(null);\r\n  const [, setMap] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const colorScale = d3.schemeRdYlGn[11];\r\n    const colors = colorScale\r\n      .map((color, index) => {\r\n        return [index, color];\r\n      })\r\n      .flat(1);\r\n    const map = new mapboxgl.Map({\r\n      container: mapContainerRef.current,\r\n      style: 'mapbox://styles/sghan/ck1ljdcmy16fc1cpg0f4qh3wu',\r\n      center: [127.06243582034075, 37.49804469532547],\r\n      zoom: 12.7,\r\n      attributionControl: false,\r\n    });\r\n\r\n    map.addControl(\r\n      new mapboxgl.AttributionControl({\r\n        compact: true,\r\n      })\r\n    );\r\n\r\n    map.on('load', () => {\r\n      map.addSource('hexagons', {\r\n        type: 'geojson',\r\n        data:\r\n          'https://raw.githubusercontent.com/Aete/transport-accessibility/master/src/data/hexagon_res_10_400m_count/hexagon_with_data.geojson',\r\n      });\r\n\r\n      map.addLayer({\r\n        id: 'hexagons',\r\n        type: 'fill',\r\n        source: 'hexagons',\r\n        layout: {},\r\n        paint: {\r\n          'fill-color': [\r\n            'interpolate',\r\n            ['linear'],\r\n            ['get', 'total_score'],\r\n            ...colors,\r\n          ],\r\n          'fill-opacity': 0.7,\r\n        },\r\n      });\r\n      setMap(map);\r\n    });\r\n\r\n    map.on('click', 'hexagons', function (e) {\r\n      const {\r\n        x,\r\n        y,\r\n        score_bus,\r\n        score_subway,\r\n        score_bike,\r\n        total_score,\r\n      } = e.features[0].properties;\r\n      console.log(e.features[0].properties);\r\n\r\n      const description = document.createElement('div');\r\n      description.className = 'description';\r\n\r\n      const charts = document.createElement('div');\r\n      charts.className = 'charts';\r\n\r\n      const popup = document.createElement('div');\r\n      popup.appendChild(description);\r\n      popup.appendChild(charts);\r\n\r\n      ReactDOM.render(\r\n        <Description\r\n          total_score={total_score}\r\n          score_bus={score_bus}\r\n          score_subway={score_subway}\r\n          score_bike={score_bike}\r\n          handleModal={handleModal}\r\n        />,\r\n        description\r\n      );\r\n\r\n      ReactDOM.render(\r\n        <Chart scores={{ score_bus, score_subway, score_bike }} />,\r\n        charts\r\n      );\r\n\r\n      const marker = new mapboxgl.Popup()\r\n        .setLngLat([x, y])\r\n        .setDOMContent(popup)\r\n        .addTo(map);\r\n    });\r\n    return () => map.remove();\r\n  }, [handleModal]);\r\n\r\n  return (\r\n    <div className=\"map\">\r\n      <div className=\"map-container\" ref={mapContainerRef} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n\r\nfunction Description({\r\n  total_score,\r\n  score_bus,\r\n  score_subway,\r\n  score_bike,\r\n  handleModal,\r\n}) {\r\n  return (\r\n    <section className=\"textInfo\">\r\n      <h1>Accessibility score</h1>\r\n      <ul>\r\n        <li>total score: {Math.round(total_score * 100) / 100} / 15</li>\r\n        <li>subway: {Math.round(score_subway * 100) / 100} / 5</li>\r\n        <li>bus: {Math.round(score_bus * 100) / 100} / 5</li>\r\n        <li>bike: {Math.round(score_bike * 100) / 100} / 5</li>\r\n        <li>\r\n          <span\r\n            className=\"aboutBtn\"\r\n            onTouchStart={handleModal}\r\n            onClick={handleModal}\r\n          >\r\n            About the project (click)\r\n          </span>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\D3Chart\\Spider.js",["44","45","46"],"import * as d3 from 'd3';\r\nexport default function Spider(\r\n  element,\r\n  { score_bus, score_bike, score_subway }\r\n) {\r\n  const margin = {\r\n    top: 25,\r\n    left: 25,\r\n    right: 25,\r\n    bottom: 25,\r\n  };\r\n\r\n  const width = 240;\r\n  const height = 240;\r\n  const viewbox = [\r\n    0,\r\n    0,\r\n    width + margin.left + margin.right,\r\n    height + margin.top + margin.bottom,\r\n  ];\r\n\r\n  const svg = element\r\n    .append('svg')\r\n    .attr('class', 'webChart')\r\n    .attr('viewBox', viewbox)\r\n    .attr('preserveAspectRatio', 'xMinYMid meet');\r\n\r\n  const chartWidth = parseInt(d3.select('.webChart').style('width'));\r\n  const newFontSize = 12 * (290 / chartWidth);\r\n\r\n  const container = svg\r\n    .append('g')\r\n    .attr('transform', `translate(${margin.left},${margin.top})`);\r\n\r\n  const rScale = d3\r\n    .scaleLinear()\r\n    .domain([0, 5])\r\n    .range([0, width / 2]);\r\n\r\n  const score = [0, 1, 2, 3, 4, 5];\r\n\r\n  const axisSub = container\r\n    .selectAll('.axis-sub')\r\n    .data(score)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'axis-sub')\r\n    .attr('cx', width / 2)\r\n    .attr('cy', height / 2)\r\n    .attr('fill', 'none')\r\n    .attr('stroke', '#424242')\r\n    .attr('r', (d) => rScale(d));\r\n\r\n  const label = container\r\n    .selectAll('.label')\r\n    .data(score.slice(1))\r\n    .enter()\r\n    .append('text')\r\n    .text((d) => d)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('y', (d) => rScale(d) + rScale(5) + 15)\r\n    .attr('x', width / 2)\r\n    .style('font-size', '10px')\r\n    .attr('fill', (d) => '#636363');\r\n\r\n  const polygon = container\r\n    .append('g')\r\n    .attr('transform', `translate(${width / 2},${height / 2})`);\r\n\r\n  polygon\r\n    .append('circle')\r\n    .attr('cx', 0)\r\n    .attr('cy', 0)\r\n    .attr('fill', '#636363')\r\n    .attr('r', 1);\r\n\r\n  const axisMain = polygon\r\n    .selectAll('.axis-main')\r\n    .data([1, 5, 9])\r\n    .enter()\r\n    .append('line')\r\n    .attr('class', 'axis-main')\r\n    .attr('x1', 0)\r\n    .attr('y1', 0)\r\n    .attr('x2', (d) => Math.cos((Math.PI * d) / 6) * rScale(5))\r\n    .attr('y2', (d) => Math.sin((Math.PI * d) / 6) * rScale(5))\r\n    .attr('stroke', '#636363');\r\n\r\n  const busCoord = `${Math.cos(Math.PI / 6) * rScale(+score_bus)}, ${\r\n    Math.sin(Math.PI / 6) * rScale(+score_bus)\r\n  }`;\r\n  const subwayCoord = `0,${-rScale(+score_subway)}`;\r\n  const bikeCoord = `${Math.cos((5 * Math.PI) / 6) * rScale(+score_bike)}, ${\r\n    Math.sin((5 * Math.PI) / 6) * rScale(+score_bike)\r\n  }`;\r\n\r\n  polygon\r\n    .append('polygon')\r\n    .attr('fill', '#2196F3')\r\n    .attr('fill-opacity', 0.3)\r\n    .attr('stroke', '#2963FF')\r\n    .attr('stroke-width', 2)\r\n    .attr('points', '0,0 0,0 0,0')\r\n    .transition()\r\n    .duration(300)\r\n    .attr('points', `${busCoord} ${subwayCoord} ${bikeCoord}`);\r\n\r\n  polygon\r\n    .selectAll('.point')\r\n    .data([score_bus, score_bike, score_subway])\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'point')\r\n    .attr('cx', (d, i) => Math.cos((Math.PI * (i * 4 + 1)) / 6) * rScale(d))\r\n    .attr('cy', (d, i) => Math.sin((Math.PI * (i * 4 + 1)) / 6) * rScale(d))\r\n    .attr('r', '3')\r\n    .attr('fill', '#2196F3');\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('bus')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos(Math.PI / 6) * rScale(6))\r\n    .attr('y', Math.sin(Math.PI / 6) * rScale(6))\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('bike')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos((Math.PI * 5) / 6) * rScale(6))\r\n    .attr('y', Math.sin((Math.PI * 5) / 6) * rScale(6))\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n\r\n  polygon\r\n    .append('text')\r\n    .text('subway')\r\n    .attr('text-anchor', 'middle')\r\n    .attr('x', Math.cos((Math.PI * 9) / 6) * rScale(6))\r\n    .attr('y', Math.sin((Math.PI * 9) / 6) * rScale(6) + 12)\r\n    .attr('fill', '#FFFFFF')\r\n    .style('font-size', `${newFontSize}px`);\r\n}\r\n","C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Modal.js",[],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Chart.js",[],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\Components\\Legend.js",["47","48","49","50"],"C:\\Users\\hsg82\\Documents\\GitHub\\transport-accessibility\\src\\D3Chart\\ColorBar.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":100,"column":13,"nodeType":"57","messageId":"58","endLine":100,"endColumn":19},{"ruleId":"55","severity":1,"message":"59","line":42,"column":9,"nodeType":"57","messageId":"58","endLine":42,"endColumn":16},{"ruleId":"55","severity":1,"message":"60","line":54,"column":9,"nodeType":"57","messageId":"58","endLine":54,"endColumn":14},{"ruleId":"55","severity":1,"message":"61","line":77,"column":9,"nodeType":"57","messageId":"58","endLine":77,"endColumn":17},{"ruleId":"55","severity":1,"message":"62","line":1,"column":13,"nodeType":"57","messageId":"58","endLine":1,"endColumn":15},{"ruleId":"55","severity":1,"message":"63","line":2,"column":31,"nodeType":"57","messageId":"58","endLine":2,"endColumn":38},{"ruleId":"55","severity":1,"message":"64","line":8,"column":10,"nodeType":"57","messageId":"58","endLine":8,"endColumn":16},{"ruleId":"55","severity":1,"message":"65","line":8,"column":18,"nodeType":"57","messageId":"58","endLine":8,"endColumn":27},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"no-unused-vars","'marker' is assigned a value but never used.","Identifier","unusedVar","'axisSub' is assigned a value but never used.","'label' is assigned a value but never used.","'axisMain' is assigned a value but never used.","'d3' is defined but never used.","'useMemo' is defined but never used.","'legend' is assigned a value but never used.","'setLegend' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]